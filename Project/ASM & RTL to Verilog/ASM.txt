module;ASM_Verilog
inputs;[31:0]in1,[31:0]in2,S
outputs;V,[31:0]data_out
regs;out,[31:0]R1,[31:0]R2,[31:0]R3,[31:0]R4
1(SB);V<=0,out=2
2(DB);(S==1)?3;1
3(CB);R1[31:0]<=in1[31:0],R2[31:0]<=in2[31:0],R3[31:0]<=32'b0,V<=0,out=4
4(SB);out=5
5(DB);(R1[31:0]>R2[31:0])?6;7
6(CB);R1[31:0]<=R2[31:0],R2[31:0]<=R1[31:0],out=7
7(SB);out=8
8(DB);(R1[31:0] > 0)?9;10
9(CB);R3[31:0]<=R3[31:0]+R2[31:0],R1[31:0]<=R1[31:0]-1,out=7
10(DB);(V==0)?11;1
11(CB);data_out[31:0]<=R3[31:0],R4[31:0]<=R3[31:0],V<=1,out=1
